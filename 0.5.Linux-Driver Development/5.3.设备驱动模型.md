随笔--linux设备驱动模型
=======================

> 以`kobject`为底层，组织`类class`、`总线bus`、`设备device`、`驱动driver`等高级数据结构，同时实现对象引用计数、维护对象链表、对象上锁、对用户空间的表示等服务

[TOC]

###linux设备驱动模型简介

    何谓linux驱动设备模型。其实驱动开发中已经涉及到这方面的知识，并且也用到驱动设备模型，只是并没有从驱动设备模型这个角度去理解
    文章站在设备驱动这个角度取分析，设备驱动模型是如何构建出来的，代码是谁写的，起到什么作用，要对它认识到一个怎么样的程度以及写
    驱动的时候如何去利用设备驱动模型

####什么是设备驱动模型
> 从以下几个角度去描述折别驱动模型

1. 类class、总线bus、设备device、驱动driver


        这四个词并不是四个简单的概念，这四个东西分别是我们linux驱动的四个结构体，也就是说这是我们linux设备驱动模型的四个框架。
        分别对应我们源代码的四个结构体。
            class ：例如class_create
            bus   ：例如USB总线，SPI总线
            device：设备
            driver：驱动
        我们要这四个结构体干嘛-----生产这些结构体类型的变量，每一个结构体变量就能代表一个实例


2. kobject和对象生命周期的管理


        linux内核源代码里面的一个结构体，k是kernel object物体，kobject就是内核的一个东西。一个高度抽象的结构体，表示我们内
        核里面的一个对象，就是内核里面的所有对象抽象出来的一个总类。所以我们说linux内核是面向对象编程。这个kobject就有点像面
        向对象体系的一个总的基类，总的父类。







###设备驱动模型的底层架构




###总线式设备驱动组织方式





> 驱动这个东西并不复杂，就是由我们讲的这些理论来指导，就是由我们的实践来构成







